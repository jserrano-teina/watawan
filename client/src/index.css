@tailwind base;
@tailwind components;
@tailwind utilities;

/* Variables CSS globales para colores y otros valores */
:root {
  /* Colores base del sistema */
  --color-bg-primary: #121212;
  --color-bg-secondary: #1e1e1e;
  --color-bg-tertiary: #252525;
  --color-bg-accent: #333333;
  --color-border: #333333;
  
  /* Textos */
  --color-text-primary: rgba(255, 255, 255, 1);
  --color-text-secondary: rgba(255, 255, 255, 0.8);
  --color-text-tertiary: rgba(255, 255, 255, 0.6);
  --color-text-muted: rgba(255, 255, 255, 0.4);
  
  /* Transiciones */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 350ms ease;
  
  /* Color primario explícito de la aplicación */
  --primary: 48 100% 70%;
  --primary-color: #FFE066; /* Amarillo */
  --primary-foreground: #000000; /* Negro para el texto sobre fondo amarillo */
  
  /* Color destructive para mensajes de error */
  --destructive: 354 70% 54%;
  --destructive-foreground: 210 40% 98%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] selection:bg-primary/20;
  }

  /* Jerarquía de títulos */
  h1 {
    @apply text-3xl font-bold tracking-tight leading-tight;
  }

  h2 {
    @apply text-2xl font-semibold tracking-tight leading-tight;
  }

  h3 {
    @apply text-xl font-semibold tracking-tight leading-tight;
  }

  h4 {
    @apply text-lg font-semibold tracking-tight leading-tight;
  }

  /* Estilos de texto */
  p {
    @apply text-base text-[var(--color-text-secondary)] leading-relaxed;
  }

  span {
    @apply text-[var(--color-text-secondary)];
  }

  label {
    @apply text-[var(--color-text-secondary)] font-medium text-sm;
  }

  input, textarea {
    @apply transition-colors duration-200 text-[var(--color-text-primary)] 
           placeholder:text-[var(--color-text-muted)] bg-[var(--color-bg-secondary)] 
           border-[var(--color-border)] rounded-md focus:ring-[#FFE066] 
           focus:border-[#FFE066];
  }

  button {
    @apply transition-all duration-200 active:scale-95 font-medium;
  }

  a {
    @apply text-[#FFE066] hover:text-[#FFE066]/80 transition-colors;
  }
}

/* Componentes consistentes para toda la app */
@layer utilities {
  /* Oculta la barra de desplazamiento pero mantiene la funcionalidad de scroll */
  .scrollbar-none {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;     /* Firefox */
  }
  
  .scrollbar-none::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
}

/* Estilos específicos para PWA */
.pwa-mode {
  /* Sin barras de navegación del navegador, usamos más espacio */
  height: 100vh;
  overflow-y: auto;
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;
}

/* Asegura que el contenido PWA no queda debajo de la barra de navegación */
.pwa-mode .app-container {
  padding-bottom: env(safe-area-inset-bottom, 16px);
  padding-top: env(safe-area-inset-top, 0);
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
}

/* Deshabilita los gestos del sistema que podrían interferir */
.pwa-mode {
  overscroll-behavior: none;
}

/* Previene que el texto se seleccione accidentalmente en la app móvil */
.pwa-mode * {
  -webkit-user-select: none;
  user-select: none;
}

/* Permitir selección de texto solo en campos editables */
.pwa-mode input,
.pwa-mode textarea {
  -webkit-user-select: text;
  user-select: text;
}

/* Toque más sensible para dispositivos táctiles */
.pwa-mode button,
.pwa-mode a {
  cursor: pointer;
  touch-action: manipulation;
}

/* Eliminar delay de 300ms en toques móviles */
html {
  touch-action: manipulation;
}

@layer components {
  /* Cards */
  .card {
    @apply bg-[var(--color-bg-secondary)] rounded-xl shadow-md border border-[var(--color-border)] 
           overflow-hidden transition-all duration-300;
  }

  .card-header {
    @apply p-4 border-b border-[var(--color-border)] flex justify-between items-center;
  }

  .card-body {
    @apply p-4;
  }

  .card-footer {
    @apply p-4 border-t border-[var(--color-border)] flex justify-between items-center;
  }
  
  /* Textos */
  .text-secondary {
    @apply text-[var(--color-text-secondary)];
  }

  /* Botones */
  .btn-primary {
    @apply bg-[#FFE066] text-black font-medium rounded-lg px-5 py-2.5 
           hover:opacity-90 transition-all duration-200;
  }
  
  /* Forzamos el color primario en los botones y elementos que usan la clase 'bg-primary' */
  .bg-primary {
    background-color: #FFE066 !important;
  }
  
  /* Aseguramos que todos los botones con fondo primario tengan texto negro */
  .bg-primary * {
    color: #000000 !important;
  }
  
  /* También aseguramos que los botones de shadcn con texto blanco por defecto ahora tengan texto negro */
  .bg-primary, 
  [class*="bg-[#FFE066]"], 
  button[type="submit"],
  [data-color-scheme="dark"] .Button,
  [data-color-scheme="light"] .Button {
    color: #000000 !important;
  }
  
  /* Aseguramos que los SVG en botones de fondo amarillo tengan el color negro correcto */
  .bg-primary svg, 
  [class*="bg-[#FFE066]"] svg,
  button.bg-primary svg,
  [class*="bg-primary"] svg {
    stroke: #000000 !important;
    stroke-width: 2 !important;
    stroke-linecap: round !important;
    stroke-linejoin: round !important;
    fill: none !important;
    color: transparent !important;
  }
  
  /* Reglas específicas para los componentes Button de shadcn */
  button.bg-primary, 
  button[class*="bg-primary"] {
    color: #000000 !important;
  }
  
  /* Sobrescribimos los estilos de Shadcn directamente */
  :root {
    --primary-foreground: #000000;
  }
  
  /* Reglas específicas para botones de tipo submit */
  button[type="submit"] {
    background-color: #FFE066 !important;
    color: #000000 !important;
  }
  
  /* Específicamente para componentes de Shadcn */
  button[class*="shadcn-button"] {
    background-color: #FFE066 !important;
    color: #000000 !important;
  }
  
  /* Para elementos que necesitan texto negro sobre fondo amarillo */
  .text-on-primary {
    color: #000000 !important;
  }

  .btn-secondary {
    @apply bg-[var(--color-bg-tertiary)] text-[var(--color-text-primary)] 
           hover:bg-[var(--color-bg-accent)] rounded-lg px-5 py-2.5 
           transition-all duration-200;
  }

  .btn-outline {
    @apply bg-transparent border border-[var(--color-border)] text-[var(--color-text-primary)] 
           hover:bg-[var(--color-bg-tertiary)] rounded-lg px-5 py-2.5 
           transition-all duration-200;
  }

  .btn-danger {
    @apply bg-red-600 text-white font-medium rounded-lg px-5 py-2.5 
           hover:bg-red-700 transition-all duration-200;
  }

  .btn-icon {
    @apply p-2 rounded-full flex items-center justify-center bg-[var(--color-bg-tertiary)] 
           hover:bg-[var(--color-bg-accent)] transition-colors;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply bg-[#FFE066]/20 text-[#FFE066];
  }
  
  /* Forzamos el color de texto primario en elementos que usan la clase 'text-primary' */
  .text-primary {
    color: #FFE066 !important;
  }

  .badge-success {
    @apply bg-green-500/20 text-green-500;
  }

  .badge-warning {
    @apply bg-amber-500/20 text-amber-500;
  }

  .badge-error {
    @apply bg-red-500/20 text-red-500;
  }
  
  /* Forzamos el color de texto destructive */
  .text-destructive {
    color: #DC3545 !important;
  }

  /* Inputs */
  .input-custom {
    @apply bg-[var(--color-bg-secondary)] border border-[var(--color-border)] 
           rounded-lg p-3 focus:ring-[#FFE066] focus:border-[#FFE066] 
           text-[var(--color-text-primary)];
  }

  /* Gradientes */
  .text-gradient {
    @apply bg-gradient-to-r from-[#FFE066] to-[#FFE066]/70 bg-clip-text text-transparent;
  }
}